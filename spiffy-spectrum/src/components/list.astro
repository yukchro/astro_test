---
export interface Props {
  pdata: Object;
}
const pdata = Astro.props;
---

<div class="pokedex">
  <ol class="pokedex-list is-list">
    {
      pdata["pdata"].map( (item) =>
        <li class="pokedex-list__item">
          <a href={"/detail/"+item.numberAll+"/"} class="pokedex-list__link">
            <span class="pokedex-list__number">{item.numberAll}</span>
            <figure class="pokedex-list__icon">
              <img src={"/assets/sprite/"+item.numberAll+".png"} alt="" width="160" height="160" class="pokedex-list__icon-image">
            </figure>
            <h2 class="pokedex-list__name">
              <span class="pokedex-list__name-jpn">{ item.nameJpn }</span>
            </h2>
            <div class="pokedex-list__type">
              <span class={"pokedex-list__type-label u-type-" +item.type1 }>
                <img src={"/assets/images/"+item.type1+".svg"} alt={item.type1} class="pokedex-list__type-icon">
              </span>
              {
                item.type2 &&
                <span class={"pokedex-list__type-label u-type-" +item.type2 }>
                  <img src={"/assets/images/"+item.type2+".svg"} alt={item.type2} class="pokedex-list__type-icon">
                </span>
              }
            </div>
          </a>
        </li>
      )
    }
  </ol>
</div>

<script>
  window.addEventListener("DOMContentLoaded", (e) => {
    const list = document.querySelectorAll('.pokedex-list__item')
    
  })
</script>

<style lang="scss">
  .pokedex-list {
    padding: 8px;

    &__item {
      &:active {
        translate: 1px 1px;
      }
    }

    &__item:not(last-child) {
      margin-bottom: 16px;
    }
    
    &__link {
      display: flex;
      align-items: center;
      column-gap: 16px;
      background-color: #d9d9d9;
      padding: 8px 16px;
      border-radius: 16px;
    }

    &__number {
      font-size: 12px;
    }

    &__name-jpn {
      font-size: 16px;
      font-weight: 700;
    }

    &__icon {
      width: 48px;
      height: 48px;
      border-radius: 16px;
      background-color: rgba(#000, 0.2);
    }

    &__type {
      display: flex;
      margin-left: auto;
      min-width: 54px;
      column-gap: 6px;
    }

    &__type-label {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: 50%;
    }

    &__type {
      &--bug {
        background-color: #92bc2c;
      }

      &--dark {
        background-color: #595761;
      }

      &--dragon {
        background-color: #0C69C8;
      }

      &--electric {
        background-color: #F2D94E;
      }

      &--fire {
       background-color: #FBA54C; 
      }

      &--fairy {
        background-color: #EE90E6;
      }

      &--fighting {
        background-color: #D3425F;
      }
      
      &--flying {
        background-color: #A1BBEC;
      }

      &--ghost {
        background-color: #5F6DBC;
      }

      &--grass {
        background-color: #5FBD58;
      }

      &--ground {
        background-color: #DA7C4D;
      }

      &--ice {
        background-color: #75D0C1;
      }

      &--normal {
        background-color: #A0A29F;
      }

      &--poison {
        background-color: #B763CF;
      }

      &--psychic {
        background-color: #FA8581;
      }

      &--rock {
        background-color: #C9BB8A;
      }

      &--steel {
        background-color: #5695A3;
      }

      &--water {
        background-color: #539DDF;
      }
    }

    &__type-icon {
      width: 12px;
      height: 12px;
    }

    &__more {
      font-size: 12px;
      margin-left: auto;
    }
  }
</style>