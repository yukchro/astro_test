---
import '@pagefind/default-ui/css/ui.css';
---

<nav class="l-pokedex-nav">
  <div class="l-pokedex-nav__inner">
    <button class="l-pokedex-nav__func l-pokedex-nav__reset">Reset</button>
    <button class="l-pokedex-nav__func l-pokedex-nav__view" >Grid</button>
    <button class="l-pokedex-nav__func l-pokedex-nav__sort" >Sort</button>
    <button class="l-pokedex-nav__func l-pokedex-nav__filter" >Filter</button>
    <button class="l-pokedex-nav__search" id="search-toggle">Search</button>
    <div class="l-pokedex-search" id="search"></div>
  </div>
</nav>

<script>
  import { PagefindUI } from '@pagefind/default-ui'
  new PagefindUI({
    element: '#search',
    showImages: true,
  });

  window.addEventListener('DOMContentLoaded', ()=> {
    const searchToggle = document.getElementById('search-toggle');
    const navigation = document.querySelector('.l-pokedex-nav');
    searchToggle.addEventListener('click', ()=> {
      navigation.classList.toggle('is-active');
    })
  })
</script>

<style lang="scss">
  .l-pokedex-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    padding-right: 16px;
    padding-left: 16px;
    padding-bottom: 16px;
    
    &__inner {
      position: relative;
      background-color: rgba(#dedede, 0.8);
      border-radius: 24px;
      display: flex;
      justify-content: flex-end;
      backdrop-filter: blur(4px);
      
    }

    &__func {
      font-weight: 700;
    }

    &__reset {
      margin-right: 24px;
    }

    &__view {
      margin-right: 16px;
    }

    &__sort {
      margin-right: 16px;
    }
    
    &__filter {
      margin-right: 24px;
    }

    &__search {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background-color: #ccc;
      background-image: url('/assets/images/icon-search.svg');
      background-size: 20px 20px;
      background-repeat: no-repeat;
      background-position: center;
      text-indent: 100%;
      white-space: nowrap;
      overflow: hidden;
    }
  }

  .l-pokedex-search {
    display: none;
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    background-color: #eee;
    // opacity: 0;
  }
</style>